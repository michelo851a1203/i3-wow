import{o as v,a as P,l as de,n as y,s as l,u as me}from"./BeNRzrwp.js";import{T as pe,l as h}from"./CYd5hogt.js";import{S as w,d as fe,p as q,e as ge,f as Q,P as ye,a as he}from"./BjsByrvX.js";import{u as W}from"./CHoBo5sC.js";var a=(t=>(t.PendingForReply="pending",t.ReservedPay="reservedPay",t.WaitForService="waitForService",t.FinishedNoComment="finishedNoComment",t.Finished="finished",t.Canceled="Canceled",t.Error="error",t))(a||{});const De={pending:"等待褓母回覆",reservedPay:"待付款",waitForService:"已付款",finishedNoComment:"已完成",finished:"已完成",Canceled:"已取消",error:"已取消"},Le=new Map([["pending","等待褓母回覆"],["reservedPay","等待付款"],["waitForService","已付款"],["finishedNoComment","已完成"],["finished","已完成"],["Canceled","取消"],["error","錯誤"]]);var x=(t=>(t[t.Finished=0]="Finished",t[t.Current=1]="Current",t[t.NotYet=2]="NotYet",t))(x||{});const Ce=v({serviceType:P(w).or(de("")).optional(),timePeriod:y().nullable().array().length(2)});Ce.merge(fe);v({ticketCode:l(),name:l(),avatar:l(),appointmentTime:y(),status:P(a),serviceName:P(w),price:y().optional()});v({status:P(a),ticketCode:l(),ticketEstiblishTime:y(),mainService:q,keeperName:l(),keeperphone:l().regex(/^09\d{2}[-\s]?\d{3}[-\s]?\d{3}$/,"請輸入手機號碼格式"),keeperEmail:l().email("請輸入 email 格式").min(1,"請輸入 email"),servicePetSitterPhotoUrl:l().url(),servicePetSitterName:l(),serviceTimeStart:y().int("請輸入整數"),serviceTimeEnd:y().int("請輸入整數"),serviceAddress:l(),petNameDescription:l(),serviceDetail:l(),serviceExtraService:q.array().optional(),description:l().optional(),discussionList:ge.array().optional()});v({id:y().int().nonnegative("請輸入正整數或0"),name:l(),iconText:l(),status:P(x)});var m=(t=>(t[t.None=0]="None",t[t.Discount=1]="Discount",t[t.Return=2]="Return",t))(m||{});const Fe={0:"未使用",1:"預約折抵",2:"預約退回"};v({ticketCode:l(),walletStatus:P(m),transactionMoney:y(),transactionTime:y()});const Se=()=>{const t=n=>new Promise(c=>setTimeout(c,n));return{updatePersonalInfo:async n=>(console.log(n),await t(500),!0),personalInfoPhoneValidate:async n=>(console.log(n),await t(500),!0),personalInfoSendPhoneValidateCode:async n=>(console.log(n),await t(500),!0),resetPassword:async n=>(console.log(n),await t(500),!0),getAppointmentList:async n=>{console.log(n),await t(500);const c=u=>u%5===0?a.PendingForReply:u%5===1?a.ReservedPay:u%5===2?a.WaitForService:u%5===3?a.FinishedNoComment:u%5===4?a.Finished:a.Canceled;return Array.from({length:5}).map((u,p)=>({ticketCode:`F1234567890${p}`,name:"陳小明",avatar:"https://picsum.photos/id/237/200/300",appointmentTime:1730457416671,status:c(p),serviceName:w.ToHomeCare,price:814}))},beAPetSitterAudit:async n=>(console.log(n),await t(500),!0),updatePetSitterInfo:async n=>(console.log(n),await t(500),!0),updatePetSitterQA:async n=>(console.log(n),await t(500),!0),getOrderList:async n=>(console.log(n),await t(500),Array.from({length:10},(u,p)=>({ticketCode:`F4723746${p.toString()}`,orderTime:1730630597802,name:"richBaby",orderStatus:a.PendingForReply,serviceItem:w.ToHomeCare}))),getIncomeLogList:async n=>(console.log(n),await t(500),Array.from({length:10},(u,p)=>({ticketCode:`F47237468${p}`,orderStatus:a.WaitForService,allocatedAmount:814,allocatedTime:171648e7}))),getWalletList:async n=>(console.log(n),await t(500),[{ticketCode:"F47237468",walletStatus:m.Discount,transactionMoney:-300,transactionTime:1731995000756},{ticketCode:"4093670",walletStatus:m.Return,transactionMoney:-300,transactionTime:1731995000756},{ticketCode:"F47237468",walletStatus:m.Discount,transactionMoney:-300,transactionTime:1731995000756},{ticketCode:"4093670",walletStatus:m.Return,transactionMoney:-300,transactionTime:1731995000756},{ticketCode:"F47237468",walletStatus:m.Discount,transactionMoney:-300,transactionTime:1731995000756},{ticketCode:"4093670",walletStatus:m.Return,transactionMoney:-300,transactionTime:1731995000756},{ticketCode:"F47237468",walletStatus:m.Discount,transactionMoney:-300,transactionTime:1731995000756},{ticketCode:"4093670",walletStatus:m.Return,transactionMoney:-300,transactionTime:1731995000756},{ticketCode:"F47237468",walletStatus:m.Discount,transactionMoney:-300,transactionTime:1731995000756},{ticketCode:"4093670",walletStatus:m.Return,transactionMoney:-300,transactionTime:1731995000756}]),getAppointmentDetail:async n=>{console.log(n),await t(500);const c=W(),u=Number(n.split("").pop()),g={status:(d=>d%5===0?a.PendingForReply:d%5===1?a.ReservedPay:d%5===2?a.WaitForService:d%5===3?a.FinishedNoComment:d%5===4?a.Finished:a.Canceled)(u),ticketCode:n,ticketEstiblishTime:166871364e4,mainService:{id:1,name:Q[w.ToHomeCare],price:1620},keeperName:"陳佑瑋",keeperphone:"0926390926",keeperEmail:"baby.c.a.t@yahoo.com.tw",servicePetSitterPhotoUrl:"https://picsum.photos/id/237/200/300",servicePetSitterName:"六毛與我",serviceTimeStart:16687476e5,serviceTimeEnd:16687548e5,serviceAddress:"新北市板橋區版新路325巷3號",petNameDescription:"奇奇 ( 美樂蒂/5-10kg )、奇奇 ( 美樂蒂/5-10kg )",serviceDetail:"寵物餵藥、散步遛狗",serviceExtraService:[{id:1,name:"寵物餵藥",price:80},{id:2,name:"散步遛狗",price:80}],description:"此區塊為預約單備註，由飼主預約留言給褓母的"};return g.status===a.Finished&&(g.discussionList=[{id:1,name:"黃曉玟",avatar:c("images/frontpage/dogcard.jpg"),message:"對待我的狗狗非常有耐心和愛心，總是按時準時來幫忙照顧，讓我可以安心工作。感謝她的付出！",time:"1 個月前",rating:5,isPetSitter:!1,discussionList:[{id:1,name:"六毛與我",avatar:c("images/frontpage/dogcard.jpg"),message:"感謝您的信任和支持，我非常享受照顧各種可愛的寵物，希望可以為更多家庭提供幫助和服務。再次感謝您的信任",time:"1 個月前",isPetSitter:!0}]},{id:2,name:"黃曉玟",avatar:c("images/frontpage/dogcard.jpg"),message:"對待我的狗狗非常有耐心和愛心，總是按時準時來幫忙照顧，讓我可以安心工作。感謝她的付出！",time:"1 個月前",isPetSitter:!1}]),g},getOrderDetail:async n=>{console.log(n),await t(500);const c=W(),u=Number(n.split("").pop()),g={status:(d=>d%5===0?a.PendingForReply:d%5===1?a.ReservedPay:d%5===2?a.WaitForService:d%5===3?a.FinishedNoComment:d%5===4?a.Finished:a.Canceled)(u),ticketCode:n,ticketEstiblishTime:166871364e4,mainService:{id:1,name:Q[w.ToHomeCare],price:1620},keeperName:"陳佑瑋",keeperphone:"0926390926",keeperEmail:"baby.c.a.t@yahoo.com.tw",servicePetSitterPhotoUrl:"https://picsum.photos/id/237/200/300",servicePetSitterName:"六毛與我",serviceTimeStart:16687476e5,serviceTimeEnd:16687548e5,serviceAddress:"新北市板橋區版新路325巷3號",petNameDescription:"奇奇 ( 美樂蒂/5-10kg )、奇奇 ( 美樂蒂/5-10kg )",serviceDetail:"寵物餵藥、散步遛狗",serviceExtraService:[{id:1,name:"寵物餵藥",price:80},{id:2,name:"散步遛狗",price:80}],description:"此區塊為預約單備註，由飼主預約留言給褓母的"};return g.status===a.Finished&&(g.discussionList=[{id:1,name:"黃曉玟",avatar:c("images/frontpage/dogcard.jpg"),message:"對待我的狗狗非常有耐心和愛心，總是按時準時來幫忙照顧，讓我可以安心工作。感謝她的付出！",time:"1 個月前",rating:5,isPetSitter:!1,discussionList:[{id:1,name:"六毛與我",avatar:c("images/frontpage/dogcard.jpg"),message:"感謝您的信任和支持，我非常享受照顧各種可愛的寵物，希望可以為更多家庭提供幫助和服務。再次感謝您的信任",time:"1 個月前",isPetSitter:!0}]},{id:2,name:"黃曉玟",avatar:c("images/frontpage/dogcard.jpg"),message:"對待我的狗狗非常有耐心和愛心，總是按時準時來幫忙照顧，讓我可以安心工作。感謝她的付出！",time:"1 個月前",isPetSitter:!1}]),g},cancelAppointmentReservation:async n=>(console.log(n),await t(500),!0),payTheBill:async n=>(console.log(n),await t(500),!0),leaveComment:async(n,c)=>(console.log(n,c),await t(500),!0),getPetSitterIncomeFinance:async()=>(await t(500),{unit:"NT",totalBalance:277814,distributingFinance:{amount:277814,distributTime:14035392e5},distributedFinance:{amount:277814,distributTime:14035392e5}}),setIncomeAccount:async n=>(console.log(n),await t(500),!0),editOrder:async n=>(console.log(n),await t(500),!0),getOrderEditDetail:async n=>{console.log(n);const c={petEditList:[{id:1,petType:ye.Dog,name:"狗狗",size:he.MEDIUM,extraServiceList:[]}],serviceType:w.ToHomeCare,serviceTimePeriod:[null,null],serviceCityName:"新北市",serviceRegionName:"板橋區",serviceAddress:"板新路325巷3號",price:1900,note:"此區塊為預約單備註，由飼主預約留言給保母"};return await t(500),c}}},ke=pe("useMemberStore",()=>({appointmentList:[],petSitterOrderList:[],incomeLogList:[],walletList:[],currentDetailTicketCode:"",currentAppointmentDetail:null,currentOrderDetail:null,currentEditDetail:null}),t=>{const{customTypeError:i,fatalError:o}=me(),{updatePersonalInfo:T,personalInfoPhoneValidate:D,personalInfoSendPhoneValidateCode:L,resetPassword:F,getAppointmentList:k,beAPetSitterAudit:E,updatePetSitterInfo:A,updatePetSitterQA:N,getOrderList:I,getIncomeLogList:O,getWalletList:b,getAppointmentDetail:R,getOrderDetail:M,cancelAppointmentReservation:V,payTheBill:j,leaveComment:B,editOrder:U,getOrderEditDetail:G}=Se(),n=async r=>{try{return await T(r)}catch(e){return i(e)||o(e),!1}},c=async r=>{try{const f=l().regex(/^09\d{2}[-\s]?\d{3}[-\s]?\d{3}$/,"請輸入手機號碼格式").min(1,"請輸入手機號碼格式").parse(r);return await D(f)}catch(e){return i(e)||o(e),!1}},u=async r=>{try{return r.length!==4?!1:await L(r)}catch(e){return i(e)||o(e),!1}},p=async r=>{try{return await F(r)}catch(e){return i(e)||o(e),!1}},g=async(r,e)=>{try{const s=(e-1)*10,C={...r,start:s,limit:10},S=await k(C);return t.appointmentList=S,!0}catch(s){return i(s)||o(s),!1}},d=async r=>{try{return await E(r)}catch(e){return i(e)||o(e),!1}},_=async r=>{try{return await A(r)}catch(e){return i(e)||o(e),!1}},z=async r=>{try{return await N(r)}catch(e){return i(e)||o(e),!1}},Y=async(r,e)=>{try{const s=(e-1)*10,C={...r,start:s,limit:10},S=await I(C);return t.petSitterOrderList=S,!0}catch(s){return i(s)||o(s),!1}},J=async(r,e)=>{try{const s=(e-1)*10,C={...r,start:s,limit:10},S=await O(C);return t.incomeLogList=S,!0}catch(s){return i(s)||o(s),!1}},K=async(r,e)=>{try{const s=(e-1)*10,C={...r,start:s,limit:10},S=await b(C);return t.walletList=S,!0}catch(s){return i(s)||o(s),!1}},X=async r=>{try{const e=await R(r);return e&&(ie(e),H(r)),!0}catch(e){return i(e)||o(e),!1}},Z=async r=>{try{const e=await V(r);return!0}catch(e){return i(e)||o(e),!1}},ee=async r=>{try{const e=await j(r);return!0}catch(e){return i(e)||o(e),!1}},te=async(r,e)=>{try{const f=await B(r,e);return!0}catch(f){return i(f)||o(f),!1}},re=async r=>{try{const e=await M(r);return e&&($(e),H(r)),!0}catch(e){return i(e)||o(e),!1}},ne=async r=>{try{const e=await U(r);return!0}catch(e){return i(e)||o(e),!1}},ae=async r=>{try{const e=await G(r);return le(e),!0}catch(e){return i(e)||o(e),!1}},H=r=>{t.currentDetailTicketCode=r},se=()=>{t.currentDetailTicketCode=""},ie=r=>{t.currentAppointmentDetail=r},oe=()=>{t.currentAppointmentDetail=null},$=r=>{t.currentOrderDetail=r},ce=()=>{t.currentOrderDetail=null},le=r=>{t.currentEditDetail=r},ue=()=>{t.currentEditDetail=null};return{appointmentList:h(()=>t.appointmentList),petSitterOrderList:h(()=>t.petSitterOrderList),incomeLogList:h(()=>t.incomeLogList),walletList:h(()=>t.walletList),currentDetailTicketCode:h(()=>t.currentDetailTicketCode),currentAppointmentDetail:h(()=>t.currentAppointmentDetail),currentOrderDetail:h(()=>t.currentOrderDetail),currentEditDetail:h(()=>t.currentEditDetail),handleUpdatePersonalInfo:n,handlePersonalInfoPhoneValidate:c,handlePersonalInfoPhoneValidateCode:u,handleResetPassword:p,handleGetAppointmentList:g,handleBeAPetSitter:d,handlePetSitterInfo:_,handleUpdatePetSitterQA:z,handleSearchOrderList:Y,handleSearchIncomeList:J,handleGetWalletList:K,handleCancelReservation:Z,handlePayTheBill:ee,handleCommentSubmit:te,resetCurrentDetailTicketCode:se,handleGetAppointmentDetail:X,handleGetOrderDetail:re,handleEditOrder:ne,handleGetOrderEditDetail:ae,resetCurrentAppointmentDetail:oe,setCurrentOrderDetail:$,resetCurrentOrderDetail:ce,resetCurrentEditDetail:ue}});export{a as A,Ce as a,De as b,x as c,Le as d,Se as e,ke as u,Fe as w};
