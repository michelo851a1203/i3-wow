import{d as R,l as I,o as m,c as b,a as t,t as u,u as l,e as z,s as A,x as E,G as J,L as q,J as H,b as _,h as D,w as K,y as O,i as k,F as P,r as F,f as Q,g as W,m as X}from"./CYd5hogt.js";import{_ as Z}from"./IhCzvswf.js";import{_ as ee}from"./CkECVEz0.js";import{_ as te,a as se}from"./Cb6hynOD.js";import{w as ae,A as le,u as oe}from"./BH6_UoY5.js";import{o as w,n as d,l as ie,s as L,a as M}from"./BeNRzrwp.js";import{d as ne}from"./BjsByrvX.js";import{u as re,a as $,t as ce}from"./BPqKb5GP.js";import"./B82LM_uF.js";import"./DgjlDNLx.js";import"./DGF_etlt.js";import"./DcAJ6_uj.js";import"./Cl2SVslI.js";import"./DtpQx0Ne.js";import"./JsBdDeMb.js";import"./CHOj1P8S.js";import"./CHoBo5sC.js";const me={class:"flex items-center justify-between px-4 py-3"},ue={class:"flex flex-col items-start gap-y-2"},de={class:"text-gray-400 text-sm"},pe={class:"flex flex-col items-end gap-y-2"},fe={class:"text-gray-400"},_e=R({__name:"Row",props:{ticketCode:{},walletStatus:{},transactionMoney:{},transactionTime:{}},setup(a){const o=I(()=>ae[a.walletStatus]);return(i,p)=>(m(),b("div",me,[t("div",ue,[t("div",null,"預約"+u(i.ticketCode),1),t("div",de,u(l(o)),1)]),t("div",pe,[t("div",null,u(i.transactionMoney),1),t("div",fe,u(l(z)(i.transactionTime,"YYYY/MM/DD")),1)])]))}});var n=(a=>(a[a.All=0]="All",a[a.Discount=1]="Discount",a[a.RollBack=2]="RollBack",a))(n||{});const B=w({amount:d(),distributTime:d()});w({unit:ie("NT"),totalBalance:d(),accountCode:L().optional(),distributingFinance:B,distributedFinance:B});w({ticketCode:L(),orderStatus:M(le),allocatedAmount:d(),allocatedTime:d()});const C=w({walletSearchType:M(n),timePeriod:d().nullable().array().length(2)});C.merge(ne);const be=(a,o)=>{const i=A(!1),p=ce(C),g={walletSearchType:n.All,timePeriod:[null,null]},{handleSubmit:x,isSubmitting:v,resetForm:r,errors:c}=re({validationSchema:p,initialValues:g}),f=x(E(async h=>{i.value=!0,!await a(h)&&o&&o(),i.value=!1},800)),{value:T}=$("walletSearchType"),{value:S}=$("timePeriod"),y=["安全保證：請確保您的帳戶和密碼安全，不要分享給他人，並定期修改密碼以保護您的帳戶安全。","資金管理：請妥善管理您的資金，包括定期檢查帳戶餘額、交易記錄和交易警示，以確保資金的安全和正確性。","風險警示：請注意金融交易存在風險，請謹慎選擇交易對象和交易方式，避免陷入詐騙或財務損失。","盜賊防範：請避免點擊不明郵件或連結，不要使用公共無線網路進行金融交易，以降低帳戶被盜賊的風險。","客戶權益：如遇到任何問題或疑慮，請及時聯繫客服部門，獲得專業的幫助和支持。","法律合規：請遵守相關法律和規定，不要從事非法或違法活動，以維護您的合法權益和財務安全。"],e=[{id:n.All,title:"全部"},{id:n.Discount,title:"折抵"},{id:n.RollBack,title:"退回"}];return{warningList:y,tabList:e,walletSearchType:T,timePeriod:S,formSubmit:f,isSubmitting:v,isSubmittingDisabled:i,resetForm:r,errors:c}},ye={class:"flex flex-col gap-y-4"},we={class:"w-full flex items-center justify-between bg-white px-4 py-6"},ge={class:"flex items-center justify-center gap-x-2 text-gray-400"},xe={class:"w-full rounded-xl bg-white"},ve={class:"px-4 py-3"},Te={class:"mt-4 w-full flex items-center justify-center"},Se={class:"mt-8 text-gray-400"},he={class:"list-decimal"},ke=3e3,ze=R({__name:"wallet",setup(a){const o=A(1),i=oe(),{handleGetWalletList:p}=i,{walletList:g}=J(i),{warningList:x,tabList:v,walletSearchType:r,timePeriod:c,formSubmit:f,isSubmittingDisabled:T,errors:S}=be(async y=>await p(y,o.value));return q([r,c],()=>{f()}),H(async()=>{await p({walletSearchType:n.All,timePeriod:[null,null]},o.value)}),(y,e)=>{const h=Q,V=Z,j=ee,N=te,U=_e,Y=se;return m(),b("div",ye,[t("div",we,[t("div",ge,[_(h,{name:"i-mingcute:wallet-5-line",class:"mr-2"}),e[4]||(e[4]=D(" 可使用餘額 ")),t("span",{class:"font-bold text-black text-2xl"},u(ke)),e[5]||(e[5]=t("span",{class:"self-end text-black text-sm pb-0.5"}," TWD ",-1))]),_(V,{label:"儲值按鈕",class:"text-white"},{default:K(()=>e[6]||(e[6]=[D(" 儲值 ")])),_:1})]),t("div",xe,[e[7]||(e[7]=t("div",{class:"w-full px-4 py-6 border-b border-solid border-gray-200"}," 錢包紀錄 ",-1)),t("div",ve,[t("form",{class:"flex items-center justify-between",onSubmit:e[2]||(e[2]=O((...s)=>l(f)&&l(f)(...s),["prevent"]))},[_(j,{modelValue:l(r),"onUpdate:modelValue":e[0]||(e[0]=s=>k(r)?r.value=s:null),"tab-list":l(v)},null,8,["modelValue","tab-list"]),_(N,{id:"reservationTime",modelValue:l(c),"onUpdate:modelValue":e[1]||(e[1]=s=>k(c)?c.value=s:null),"is-show-label":!1,label:"預約時間",placeholder:"預約時間",disabled:l(T),"error-message":l(S).timePeriod,"is-full-size":"",class:"w-1/3"},null,8,["modelValue","disabled","error-message"])],32),(m(!0),b(P,null,F(l(g),(s,G)=>(m(),W(U,X({key:s.ticketCode,class:{"bg-gray-100":G%2===1},ref_for:!0},s),null,16,["class"]))),128)),t("div",Te,[_(Y,{modelValue:l(o),"onUpdate:modelValue":e[3]||(e[3]=s=>k(o)?o.value=s:null),max:5,"page-count":10,total:100},null,8,["modelValue"])])])]),t("div",Se,[t("ol",he,[(m(!0),b(P,null,F(l(x),s=>(m(),b("li",{key:s},u(s),1))),128))])])])}}});export{ze as default};
