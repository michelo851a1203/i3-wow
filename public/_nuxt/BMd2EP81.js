import{_ as x}from"./DiniTw7G.js";import{_ as y}from"./CPz06D4e.js";import{_ as v}from"./IhCzvswf.js";import{_ as T}from"./BlH-aw9X.js";import{s as F,x as P,d as V,p as C,o as k,c as I,b as s,w as h,a as _,u as r,i as B,h as N,y as j,q as w}from"./CYd5hogt.js";import{u as q}from"./COQckHv3.js";import{u as $,a as D,t as R}from"./BPqKb5GP.js";import{o as A,s as E}from"./BeNRzrwp.js";import"./CHoBo5sC.js";import"./BMigu0w3.js";const L=A({email:E().email("請輸入 email 格式").min(1,"請輸入 email").max(50,"你的 email 太長了吧！")}),M=(g,a)=>{const o=F(!1),n=R(L),l={email:""},{handleSubmit:m,isSubmitting:c,resetForm:u,errors:f}=$({validationSchema:n,initialValues:l}),i=m(P(async t=>{o.value=!0,!await g(t)&&a&&a(),o.value=!1},800)),{value:e}=D("email");return{email:e,formSubmit:i,isSubmitting:c,isSubmittingDisabled:o,resetForm:u,errors:f}},U={class:"h-[calc(100vh_-_3.25rem)] md:h-[calc(100vh_-_4.625rem)] relative mb-8 w-full flex items-center justify-between"},Z=V({__name:"forgotPassword",setup(g){const a=C(),o=q(),{handleForgetPassword:n}=o,{email:l,formSubmit:m,isSubmittingDisabled:c,errors:u}=M(async i=>{const e=await n(i.email);if(e){const t="verifyTime";localStorage.getItem(t)!==null&&localStorage.removeItem(t),w({path:a("verifycode"),query:{email:i.email}})}return e}),f=()=>{w(a("verifycode"))};return(i,e)=>{const t=x,d=y,S=v,b=T;return k(),I("div",U,[s(t,{class:"left-0 top-0 h-[85%] hidden md:inline-block",src:"pet_images/login/pet-left.png"}),s(t,{class:"right-0 top-0 h-[85%] hidden md:inline-block",src:"pet_images/login/pet-right.png"}),s(b,{class:"flex flex-col absolute left-1/2 w-4/5 md:w-auto transform items-center justify-center -translate-x-1/2"},{default:h(()=>[s(t,{class:"w-[3.0625rem]",src:"pet_images/login/sheld.svg"}),e[4]||(e[4]=_("h1",{class:"my-4 text-2xl"}," 重設密碼 ",-1)),_("form",{class:"w-full md:w-2/3 flex flex-col items-center gap-y-4",onSubmit:e[1]||(e[1]=j((...p)=>r(m)&&r(m)(...p),["prevent"]))},[s(d,{modelValue:r(l),"onUpdate:modelValue":e[0]||(e[0]=p=>B(l)?l.value=p:null),type:"email",class:"w-full",label:"電子信箱",placeholder:"請輸入電子信箱",disabled:r(c),required:!0,"error-message":r(u).email},null,8,["modelValue","disabled","error-message"]),s(S,{class:"w-full text-white",label:"取得驗證碼按鈕",onClick:f},{default:h(()=>e[2]||(e[2]=[N(" 取得驗證碼 ")])),_:1}),e[3]||(e[3]=_("p",{class:"text-gray-400 text-sm"}," 承諾保護您的隱私，您提供的手機號碼僅用於會員使用，絕不會被用於其他用途或向第三方分享。 ",-1))],32)]),_:1})])}}});export{Z as default};
