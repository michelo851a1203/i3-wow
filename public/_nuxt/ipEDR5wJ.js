import{s as c,V as i,an as v}from"./CYd5hogt.js";const g=window.setInterval,T=()=>{const l=c(60),a=i(null),n=(e,t)=>{if(a.value!==null){const m=a.value;m()}const{count:o,dec:s}=v(e,{min:0,max:60});l.value=e;const r=g(()=>{if(o.value===0){clearInterval(r),localStorage.removeItem(t),a.value=null;return}s(),l.value=o.value},1e3),u=()=>{clearInterval(r),localStorage.removeItem(t)};a.value=u};return{reVerifyCodeCount:l,sharableState:a,startCounter:n,getKeyTimeStamp:e=>{const t=localStorage.getItem(e);t===null&&localStorage.setItem(e,new Date().getTime().toString());const o=t===null||Number.isNaN(+t)?null:+t;return o===null?60:60-Math.floor((new Date().getTime()-o)/1e3)},resetCounter:e=>{localStorage.setItem(e,new Date().getTime().toString()),n(60,e)}}};export{T as u};
