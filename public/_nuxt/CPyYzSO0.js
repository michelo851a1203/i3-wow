import{_ as Z}from"./DiniTw7G.js";import{d as q,o as $,c as R,a as r,A as D,v as W,b as i,w as E,h as B,u as e,_ as H,s as K,G as me,x as X,l as Q,p as Y,J as ee,g as O,y as te,i as w,q as le,ah as ce,ai as de,aj as pe,P as fe,B as T}from"./CYd5hogt.js";import{P as n,b as G,p as ge,d as se,e as be}from"./BMigu0w3.js";import{_ as z}from"./BlH-aw9X.js";import{_ as _e}from"./CPz06D4e.js";import{_ as ae}from"./B3dFsN5O.js";import{_ as Se,a as ve,b as ye}from"./CCrXyKo6.js";import{_ as re}from"./IhCzvswf.js";import{d as oe,Z as xe}from"./BeNRzrwp.js";import{a as Pe,u as J}from"./COQckHv3.js";import{u as ne,a as h,t as ie}from"./BPqKb5GP.js";import{_ as we}from"./CCxXcF8T.js";import{_ as he}from"./_IrcscXV.js";import{d as Ie}from"./DcAJ6_uj.js";import"./CHoBo5sC.js";import"./x9qqkFeM.js";import"./Dp_DNHpP.js";import"./BKjW2vGI.js";import"./BAiSaNHi.js";import"./1m7GWKYw.js";import"./DtpQx0Ne.js";import"./DMkMXhoc.js";import"./D6nfLA0K.js";import"./B08LnwSc.js";import"./CxIZtCgj.js";import"./Ceo9jh4g.js";import"./csYfvOSo.js";import"./DCEB7hob.js";import"./B-DIYZFu.js";import"./DIRaKQ2Y.js";import"./CFvfiu6T.js";import"./CFNrXGhF.js";import"./CCp9-jSB.js";import"./DvBWbfjg.js";import"./C9qe5ka0.js";import"./Whr4gT_R.js";import"./JsBdDeMb.js";import"./Cc-QcOWU.js";import"./DdymJfvm.js";import"./DXrSQcim.js";const Ve={class:"w-[2.65rem] aspect-square flex items-center justify-center rounded-full bg-white"},Fe=q({__name:"ProgressRound",props:{active:{type:Boolean,default:!1},isBeforeFinish:{type:Boolean,default:!1}},setup(c){return(t,o)=>($(),R("div",{class:D(["aspect-square w-12 flex items-center justify-center rounded-full",[t.active?"bg-[#FFC658]":"bg-transparent"]])},[r("div",Ve,[r("div",{class:D(["aspect-square w-8 flex items-center justify-center rounded-full",[t.active||!t.active&&t.isBeforeFinish?"bg-[#FFC658]":"bg-gray-200"]])},[W(t.$slots,"default")],2)])],2))}}),Le={class:"relative w-full flex items-center justify-evenly"},Ne=q({__name:"Progress",props:{currentState:{default:()=>n.None}},setup(c){return(t,o)=>{const p=Fe;return $(),R("div",Le,[i(p,{active:t.currentState===e(n).Personal,"is-before-finish":t.currentState===e(n).Qualification||t.currentState===e(n).Audit},{default:E(()=>o[0]||(o[0]=[B(" 1 ")])),_:1},8,["active","is-before-finish"]),r("div",{class:D(["absolute z-1 h-[0.125rem]",{"w-[calc(12.5%_-_0.125rem)] left-[calc(25%_-_0.25rem)] bg-[#FFC658]":t.currentState!==e(n).Personal,"w-[calc(12.5%_-_1.125rem)] left-[calc(25%_+_0.75rem)] bg-[#FFC658]":t.currentState===e(n).Personal}])},null,2),r("div",{class:D(["absolute left-[calc(37.5%_-_0.375rem)] z-1 h-[0.125rem]",{"w-[calc(12.5%_-_0.125rem)]":t.currentState!==e(n).Qualification,"w-[calc(12.5%_-_1.125rem)]":t.currentState===e(n).Qualification,"bg-gray-200":t.currentState===e(n).Personal,"bg-[#FFC658]":t.currentState!==e(n).Personal}])},null,2),i(p,{active:t.currentState===e(n).Qualification,"is-before-finish":t.currentState===e(n).Audit},{default:E(()=>o[1]||(o[1]=[B(" 2 ")])),_:1},8,["active","is-before-finish"]),r("div",{class:D(["absolute z-1 h-[0.125rem]",{"w-[calc(12.5%_-_0.125rem)] left-[calc(50%_+_0.5rem)]":t.currentState!==e(n).Qualification,"w-[calc(12.5%_-_1.125rem)] left-[calc(50%_+_1.5rem)]":t.currentState===e(n).Qualification,"bg-gray-200":t.currentState===e(n).Personal,"bg-[#FFC658]":t.currentState!==e(n).Personal}])},null,2),r("div",{class:D(["absolute left-[calc(62.5%_+_0.375rem)] z-1 h-[0.125rem]",{"bg-gray-200 w-[calc(12.5%_-_0.125rem)]":t.currentState!==e(n).Audit,"bg-[#FFC658] w-[calc(12.5%_-_1.125rem)]":t.currentState===e(n).Audit}])},null,2),i(p,{active:t.currentState===e(n).Audit},{default:E(()=>o[2]||(o[2]=[B(" 3 ")])),_:1},8,["active"])])}}}),ke={},Ue={class:"w-full flex items-center justify-evenly"};function Ee(c,t){return $(),R("div",Ue,t[0]||(t[0]=[r("h4",null,"個人資料",-1),r("h4",null,"資格檢測",-1),r("h4",null,"送審完成",-1)]))}const $e=H(ke,[["render",Ee]]),Be=(c,t)=>{const o=K(!1),p=ie(ge),b=Pe(),{initializeImageIndexDB:I,getAllImage:a}=b,{storeName:u}=me(b),_={firstName:"",lastName:"",identityImageFront:null,identityImageBack:null,title:"",mobilePhone:"",email:""},{handleSubmit:V,isSubmitting:F,resetForm:x,errors:L}=ne({validationSchema:p,initialValues:_}),S=V(X(async v=>{o.value=!0,!await c(v)&&t&&t(),o.value=!1},800)),{value:f}=h("firstName"),{value:k}=h("lastName"),{value:P}=h("identityImageFront"),{value:g}=h("identityImageBack"),{value:l}=h("title"),{value:y}=h("mobilePhone"),{value:s}=h("email"),N=Q(()=>{const v=f.value==="",m=k.value==="",j=P.value===null,A=g.value===null,C=l.value==="",d=y.value==="",ue=s.value==="";return v||m||j||A||C||d||ue?!0:Object.values(L.value).length!==0||o.value});return{firstName:f,lastName:k,identityImageFront:P,identityImageBack:g,title:l,mobilePhone:y,email:s,formSubmit:S,isSubmitting:F,isSubmittingDisabled:o,resetForm:x,errors:L,isSentButtonDisabled:N,setFieldValue:async v=>{f.value=v.firstName,k.value=v.lastName,l.value=v.title,y.value=v.mobilePhone,s.value=v.email;const m=await I();if(m===null)return;const j=await a(m,u.value)(),A=j.find(d=>d.name===G.PersonalIdentityImageFront);A&&(P.value=A.data);const C=j.find(d=>d.name===G.PersonalIdentityImageBack);C&&(g.value=C.data)}}},Oe={class:"flex items-start gap-x-4"},qe={class:"flex flex-col items-start gap-y-2"},je={class:"w-full flex items-start gap-x-4"},Ae=q({__name:"Personal",setup(c){const t=Y(),o=J(),{setPetSitterPersonalForm:p,finishPetSitterSignUpPersonal:b}=o,{firstName:I,lastName:a,identityImageFront:u,identityImageBack:_,title:V,mobilePhone:F,email:x,formSubmit:L,isSubmittingDisabled:S,errors:f,isSentButtonDisabled:k,setFieldValue:P}=Be(async g=>{const l=await b(g);return l&&le({path:t("signUp-petSitter"),query:{step:n.Qualification}}),l});return ee(async()=>{const g=localStorage.getItem("petSitter_signup_personal_temp");if(g!==null)try{const l=JSON.parse(g),y=se.parse(l);await Promise.all([P(y),p(y)])}catch(l){if(l instanceof oe){console.error("zod type error json parse raw data",l.errors);return}console.error("json convert error : ",l)}}),(g,l)=>{const y=_e,s=ae,N=Se,U=re,v=z;return $(),O(v,null,{default:E(()=>[l[11]||(l[11]=r("h2",{class:"border-b border-b-gray-300 -mt-2 -mx-8 px-8 pb-2 font-bold"}," 褓母個人資料 ",-1)),r("form",{class:"flex flex-col gap-y-4 pt-6",onSubmit:l[7]||(l[7]=te((...m)=>e(L)&&e(L)(...m),["prevent"]))},[r("div",Oe,[i(y,{modelValue:e(I),"onUpdate:modelValue":l[0]||(l[0]=m=>w(I)?I.value=m:null),label:"姓氏",placeholder:"請輸入姓氏",required:"",class:"w-1/2",disabled:e(S),"error-message":e(f).firstName},null,8,["modelValue","disabled","error-message"]),i(y,{modelValue:e(a),"onUpdate:modelValue":l[1]||(l[1]=m=>w(a)?a.value=m:null),label:"名字",placeholder:"請輸入名字",required:"",class:"w-1/2",disabled:e(S),"error-message":e(f).lastName},null,8,["modelValue","disabled","error-message"])]),i(s,{modelValue:e(V),"onUpdate:modelValue":l[2]||(l[2]=m=>w(V)?V.value=m:null),label:"頭銜、自我介紹",placeholder:"簡短介紹你自己，讓飼主更注意到你吧",required:"",class:"w-full",disabled:e(S),"show-limit":200,"error-message":e(f).title},null,8,["modelValue","disabled","error-message"]),r("div",qe,[l[8]||(l[8]=r("div",{class:"flex items-center justify-center"},[r("span",{class:"text-red-500 text-sm"},"*"),r("span",null,"身分證正反面")],-1)),r("div",je,[i(N,{modelValue:e(u),"onUpdate:modelValue":l[3]||(l[3]=m=>w(u)?u.value=m:null),"is-show-label":!1,label:"身分證正面上傳",placeholder:"正面上傳",required:"",class:"w-1/2",disabled:e(S),"error-message":e(f).identityImageFront},null,8,["modelValue","disabled","error-message"]),i(N,{modelValue:e(_),"onUpdate:modelValue":l[4]||(l[4]=m=>w(_)?_.value=m:null),"is-show-label":!1,label:"身分證反面上傳",placeholder:"反面上傳",required:"",class:"w-1/2",disabled:e(S),"error-message":e(f).identityImageBack},null,8,["modelValue","disabled","error-message"])])]),l[10]||(l[10]=r("p",{class:"text-gray-400 text-sm"}," 申請寵物褓母需實名認證，煩請您作提供為資料驗證，以上資訊將受到嚴格管控，請您放心。 ",-1)),i(y,{modelValue:e(F),"onUpdate:modelValue":l[5]||(l[5]=m=>w(F)?F.value=m:null),label:"手機號碼",placeholder:"僅用於驗證用途，非公開",required:"",class:"w-full",disabled:e(S),"error-message":e(f).mobilePhone},null,8,["modelValue","disabled","error-message"]),i(y,{modelValue:e(x),"onUpdate:modelValue":l[6]||(l[6]=m=>w(x)?x.value=m:null),label:"電子信箱",placeholder:"僅用於驗證用途，非公開",required:"",class:"w-full",disabled:e(S),"error-message":e(f).email},null,8,["modelValue","disabled","error-message"]),i(U,{type:"submit",class:"w-full text-white",label:"前往資格檢測按鈕",disabled:e(k)},{default:E(()=>l[9]||(l[9]=[B(" 下一步 ")])),_:1},8,["disabled"])],32)]),_:1})}}}),Ce=(c,t)=>{const o=K(!1),p=be.superRefine(({isExperienceOnOtherPlatform:N,otherPlatform:U},v)=>{N&&U===""&&v.addIssue({path:["isExperienceOnOtherPlatform"],code:xe.custom,message:"請輸入其他平台名稱"})}),b=ie(p),I=Array.from({length:50},(N,U)=>({value:U,title:`${U}`})),a=[{value:!1,title:"沒有"},{value:!0,title:"有"}],u={experienceYear:0,description:"",certificateProofFileList:null,petServiceImageList:null,isExperienceOnOtherPlatform:!1,otherPlatform:"",socialNetworkLinkList:[]},{handleSubmit:_,isSubmitting:V,resetForm:F,errors:x}=ne({validationSchema:b,initialValues:u}),L=_(X(async N=>{o.value=!0,!await c(N)&&t&&t(),o.value=!1},800)),{value:S}=h("experienceYear"),{value:f}=h("description"),{value:k}=h("certificateProofFileList"),{value:P}=h("petServiceImageList"),{value:g}=h("isExperienceOnOtherPlatform"),{value:l}=h("otherPlatform"),{value:y}=h("socialNetworkLinkList"),s=Q(()=>{const N=f.value==="",U=k.value===null||k.value.length===0;return N||U?!0:Object.values(x.value).length!==0||o.value});return{allExperienceYearList:I,isExperienceOtherPlatformOptionsList:a,experienceYear:S,description:f,certificateProofFileList:k,petServiceImageList:P,isExperienceOnOtherPlatform:g,otherPlatform:l,socialNetworkLinkList:y,formSubmit:L,isSubmitting:V,isSubmittingDisabled:o,resetForm:F,errors:x,isSentButtonDisabled:s}},De=q({__name:"Qualification",setup(c){const t=Y(),o=J(),{handlePetSitterSignUp:p,resetPetSitterPersonalForm:b,removeImageDBPersonal:I}=o,{allExperienceYearList:a,isExperienceOtherPlatformOptionsList:u,experienceYear:_,description:V,certificateProofFileList:F,petServiceImageList:x,isExperienceOnOtherPlatform:L,otherPlatform:S,socialNetworkLinkList:f,formSubmit:k,isSubmittingDisabled:P,errors:g,isSentButtonDisabled:l}=Ce(async y=>{const s=await p(y);return s&&(localStorage.removeItem("petSitter_signup_personal_temp"),b(),await I(),le({path:t("signUp-petSitter"),query:{step:n.Audit}})),s});return(y,s)=>{const N=we,U=ae,v=he,m=ve,j=ye,A=re,C=z;return $(),O(C,null,{default:E(()=>[s[11]||(s[11]=r("h2",{class:"border-b border-gray-300 -mt-2 -mx-8 px-8 pb-2 font-bold"}," 褓母資料檢測 ",-1)),r("form",{class:"flex flex-col gap-y-4 pt-6",onSubmit:s[7]||(s[7]=te((...d)=>e(k)&&e(k)(...d),["prevent"]))},[i(N,{modelValue:e(_),"onUpdate:modelValue":s[0]||(s[0]=d=>w(_)?_.value=d:null),label:"您從事寵物褓母的年資資歷",required:"",class:"w-full",suffix:"年",options:e(a),disabled:e(P),"error-message":e(g).experienceYear},null,8,["modelValue","options","disabled","error-message"]),i(U,{modelValue:e(V),"onUpdate:modelValue":s[1]||(s[1]=d=>w(V)?V.value=d:null),label:"請您簡單描述您的褓母經驗",placeholder:"簡短介紹你自己的過往褓母經驗吧！",required:"",class:"w-full",disabled:e(P),"show-limit":200,"error-message":e(g).description},null,8,["modelValue","disabled","error-message"]),i(v,{modelValue:e(F),"onUpdate:modelValue":s[2]||(s[2]=d=>w(F)?F.value=d:null),label:"特寵證明與相關證照",placeholder:"上傳",required:"",class:"w-full",disabled:e(P),"error-message":e(g).certificateProofFileList},null,8,["modelValue","disabled","error-message"]),s[9]||(s[9]=r("p",{class:"text-gray-400 text-sm -mt-2"}," 請您提供清晰的相關寵物證照與考照，或者政府單位、協會等修習課程之證明、照片等，將作為註冊褓母時之專業積分與曝光。 ",-1)),i(v,{modelValue:e(x),"onUpdate:modelValue":s[3]||(s[3]=d=>w(x)?x.value=d:null),label:"寵物褓母服務照片",placeholder:"上傳",class:"w-full",disabled:e(P),"error-message":e(g).petServiceImageList},null,8,["modelValue","disabled","error-message"]),s[10]||(s[10]=r("p",{class:"text-gray-400 text-sm -mt-2"}," 尺寸 600x600 px 以上，小於 1MB，格式JPG / PNG / JPEG 。 ",-1)),i(m,{modelValue:e(L),"onUpdate:modelValue":s[4]||(s[4]=d=>w(L)?L.value=d:null),input:e(S),"onUpdate:input":s[5]||(s[5]=d=>w(S)?S.value=d:null),label:"是否有在其他寵物褓母平台服務的經驗?",required:"",class:"w-full","option-list":e(u),disabled:e(P),"error-message":e(g).isExperienceOnOtherPlatform,"show-input-when-value-is":!0,placeholder:"請輸入其他寵物褓母平台服務"},null,8,["modelValue","input","option-list","disabled","error-message"]),i(j,{modelValue:e(f),"onUpdate:modelValue":s[6]||(s[6]=d=>w(f)?f.value=d:null),"error-message":e(g).socialNetworkLinkList,disabled:e(P)},null,8,["modelValue","error-message","disabled"]),i(A,{type:"submit",class:"w-full text-white",label:"送出申請按鈕",disabled:e(l)},{default:E(()=>s[8]||(s[8]=[B(" 送出申請 ")])),_:1},8,["disabled"])],32)]),_:1})}}}),M=Ie({...pe,componentName:"NuxtLinkLocale"}),Qe=q({name:"NuxtLinkLocale",props:{...M.props,locale:{type:String,default:void 0,required:!1}},setup(c,{slots:t}){const o=Y(),p=Q(()=>{const a=c.to??c.href;return a!=null?o(a,c.locale):a}),b=Q(()=>{if(c.external||c.target&&c.target!=="_self")return!0;const a=c.to??c.href;return typeof a=="object"?!1:a===""||a==null||ce(a,{acceptRelative:!0})}),I=()=>{const a={...c};return b.value||(a.to=p.value),delete a.href,delete a.locale,a};return()=>de(M,I(),t.default)}}),Re=q({__name:"PrimaryLink",props:{label:{},disabled:{type:Boolean,default:!1},link:{},external:{type:Boolean,default:!1}},setup(c){return(t,o)=>{const p=Qe;return $(),O(p,{external:t.external,"aria-label":t.label,to:t.link,class:"box-border cursor-pointer rounded-xl border-none disabled:border disabled:border-gray-200 px-3 py-2 text-gray-400 disabled:text-gray-400 bg-orange-500 hover:bg-orange-800 disabled:bg-gray-100",disabled:t.disabled},{default:E(()=>[W(t.$slots,"default")]),_:3},8,["external","aria-label","to","disabled"])}}}),ze={},Te={class:"text-center space-y-6"},Ye={class:"flex items-center justify-center w-full"},Je={class:"flex items-center justify-stretch gap-x-4"};function Ge(c,t){const o=Z,p=Re,b=z;return $(),O(b,{class:"pt-16"},{default:E(()=>[r("div",Te,[t[0]||(t[0]=r("h2",{class:"text-xl font-medium"}," 恭喜完成申請！ ",-1)),r("div",Ye,[i(o,{format:"webp",src:"images/auth/Line_at_community.png"})]),t[1]||(t[1]=r("p",null,[B(" 感謝您填寫我們的寵物褓母/專家申請表單！我們將在3至5個工作天內完成初步審核，並且會 "),r("span",{class:"text-orange-600"},"Email 與您聯繫是否審核通過，如有資料缺件的部分也將與您"),B("！若完成寵物褓母官方認證申請後，以上資料仍可以修改與補正，讓您的服務資訊更加完善。也歡迎您加入我們官方LINE@帳號，關於褓母相關服務與系統操作問題，將由客服竭誠為您服務，掌握第一手寵物褓母官方消息！ ")],-1))]),r("div",Je,[i(p,{target:"_blank",rel:"noopener",label:"等待 Email 回覆確認按鈕",class:"mt-6 w-full text-white text-center",link:"https://lin.ee/oUOoF0c"},{default:E(()=>t[2]||(t[2]=[B(" 加入官方Line@帳號 ")])),_:1}),i(p,{label:"等待 Email 回覆確認按鈕",class:"mt-6 w-full text-white text-center text-sm",link:"index"},{default:E(()=>t[3]||(t[3]=[B(" 了解，我會等待 Email 回覆！ ")])),_:1})])]),_:1})}const Me=H(ze,[["render",Ge]]),Ze={class:"bg-[#FEEAE1] h-full flex flex-wrap md:flex-nowrap items-start gap-y-12 md:gap-x-24 px-10 md:px-24 py-20"},We={class:"flex flex-col items-start w-full md:w-1/2 gap-y-6"},He={class:"w-full md:w-1/2 flex flex-col items-center justify-center gap-y-4"},Ct=q({__name:"petSitter",setup(c){const t=fe(),o=J(),{setPetSitterPersonalForm:p}=o,b=Q(()=>{const{step:a}=t.query;if(Array.isArray(a))return n.Personal;if(a===null||Number.isNaN(+a))return n.Personal;const u=+a;return I(u)?u:n.None}),I=a=>Object.values(n).findIndex(_=>_===a)!==-1;return ee(()=>{const a=localStorage.getItem("petSitter_signup_personal_temp");if(a!==null)try{const u=JSON.parse(a),_=se.parse(u);p(_)}catch(u){if(u instanceof oe){console.error("zod type error json parse raw data",u.errors);return}console.error("json convert error : ",u)}}),(a,u)=>{const _=Z,V=Ne,F=$e,x=z,L=Ae,S=De,f=Me;return $(),R("div",Ze,[r("div",We,[u[0]||(u[0]=r("h1",{class:"text-orange-600 text-3xl font-bold"}," 專業寵物褓母 愛心照顧毛孩們！ ",-1)),u[1]||(u[1]=r("p",{class:"text-sm font-light leading-loose"}," 作為一名專業的寵物褓母，您將有機會提供愛心和專業的照顧給那些需要您幫助的寵物。無論您是有豐富經驗的褓母，還是對動物充滿愛心的寵物愛好者，我們都歡迎您的加入。 ",-1)),i(_,{class:"w-4/5 self-center",src:"pet_images/login/dog.png",format:"webp"})]),r("div",He,[i(x,{class:"w-full space-y-4"},{default:E(()=>[i(V,{"current-state":e(b)},null,8,["current-state"]),i(F)]),_:1}),e(b)===e(n).Personal?($(),O(L,{key:0,class:"w-full"})):T("",!0),e(b)===e(n).Qualification?($(),O(S,{key:1,class:"w-full"})):T("",!0),e(b)===e(n).Audit?($(),O(f,{key:2,class:"w-full"})):T("",!0)])])}}});export{Ct as default};
